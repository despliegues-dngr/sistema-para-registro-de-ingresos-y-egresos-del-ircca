/**
 * ‚ö° OPTIMIZACIONES DE PERFORMANCE PARA TABLETS
 *
 * Este archivo contiene optimizaciones CSS cr√≠ticas para mejorar
 * la fluidez de animaciones y transiciones en dispositivos m√≥viles.
 *
 * T√©cnicas aplicadas:
 * - GPU Acceleration (transform: translateZ(0))
 * - will-change para pre-optimizaci√≥n
 * - Reducci√≥n de box-shadows costosas
 * - Optimizaci√≥n de transiciones Vuetify
 */

/* ========================================
   üé® GPU ACCELERATION - MODALES
   ======================================== */

/**
 * Forzar GPU acceleration en todos los modales
 * Reduce lag en apertura/cierre de di√°logos
 */
.v-dialog > .v-overlay__content {
  transform: translateZ(0);
  will-change: opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/**
 * ‚ö° OPTIMIZACI√ìN CR√çTICA: Blur eliminado para tablets
 * backdrop-filter es MUY costoso en dispositivos m√≥viles
 * Causa lag significativo en apertura/cierre de modales
 * 
 * NOTA: Si necesitas blur en futuro, usa valores muy bajos (2-3px m√°ximo)
 * y solo en dispositivos desktop con GPU potente
 */
.v-overlay__scrim {
  /* backdrop-filter: blur(6px); ‚ùå ELIMINADO - Causa lag en tablets */
  /* -webkit-backdrop-filter: blur(6px); ‚ùå ELIMINADO */
  transition: opacity 0.2s ease-out;
  will-change: opacity;
  transform: translateZ(0);
}

/**
 * GPU acceleration para el overlay completo
 * Mejora fluidez en apertura/cierre de modales
 */
.v-overlay {
  will-change: opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ========================================
   ‚ö° OPTIMIZACI√ìN DE CAMPOS DE FORMULARIO
   ======================================== */

/**
 * GPU acceleration para campos de texto
 * Mejora transici√≥n placeholder ‚Üí label
 */
.v-field__field,
.v-field__outline,
.v-field__outline__start,
.v-field__outline__end {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/**
 * Optimizar animaci√≥n de labels
 * Reducir duraci√≥n de transici√≥n para mayor fluidez
 */
.v-label {
  will-change: transform, font-size;
  transform: translateZ(0);
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/**
 * Acelerar transici√≥n de focus en campos
 */
.v-field {
  transition: border-color 0.15s ease;
}

.v-field--focused .v-label,
.v-field--active .v-label {
  transition-duration: 0.15s;
}

/* ========================================
   üìã OPTIMIZACI√ìN DE DROPDOWNS/SELECTS
   ======================================== */

/**
 * GPU acceleration para men√∫s desplegables
 * Mejora apertura de v-select, v-combobox, v-autocomplete
 */
.v-menu > .v-overlay__content {
  transform: translateZ(0);
  will-change: opacity, transform;
  backface-visibility: hidden;
}

/**
 * Optimizar lista de items en dropdowns
 */
.v-list {
  transform: translateZ(0);
  will-change: scroll-position;
}

.v-list-item {
  will-change: background-color;
  transition: background-color 0.1s ease;
}

/* ========================================
   üåë REDUCCI√ìN DE SOMBRAS COSTOSAS
   ======================================== */

/**
 * Reducir elevaci√≥n de cards en modales
 * Las sombras complejas son muy costosas en tablets
 */
.v-dialog .v-card {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/**
 * Eliminar sombras innecesarias en campos outlined
 */
.v-field--variant-outlined {
  box-shadow: none;
}

/**
 * Reducir sombra de botones elevados
 */
.v-btn--elevated {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);
}

.v-btn--elevated:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.16);
}

/* ========================================
   üéØ OPTIMIZACI√ìN DE TRANSICIONES
   ======================================== */

/**
 * Fade transition optimizada para modales
 * M√°s r√°pida y suave que dialog-bottom-transition
 */
.fade-transition-enter-active,
.fade-transition-leave-active {
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity;
}

.fade-transition-enter-from,
.fade-transition-leave-to {
  opacity: 0;
}

/**
 * Optimizar transici√≥n de expansi√≥n (v-expansion-panel)
 * ‚ö° CR√çTICO: GPU acceleration + will-change para fluidez en tablets
 */
.v-expansion-panel {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: auto;
}

/**
 * ‚ö° NUEVO: Optimizar t√≠tulo del acorde√≥n
 * Prevenir repaints durante hover/click
 */
.v-expansion-panel-title {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: background-color;
  transition: background-color 0.15s ease;
}

/**
 * ‚ö° NUEVO: Optimizar contenido del acorde√≥n
 * GPU acceleration para animaci√≥n de altura
 */
.v-expansion-panel-text {
  transform: translateZ(0);
  will-change: height, opacity;
  backface-visibility: hidden;
}

/**
 * ‚ö° NUEVO: Optimizar wrapper interno del contenido
 * Reducir reflows durante expansi√≥n
 */
.v-expansion-panel-text__wrapper {
  transform: translateZ(0);
  will-change: height;
  backface-visibility: hidden;
}

/**
 * ‚ö° NUEVO: Optimizar √≠cono de expansi√≥n
 * Rotaci√≥n fluida sin lag
 */
.v-expansion-panel-title__icon {
  transform: translateZ(0);
  will-change: transform;
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  backface-visibility: hidden;
}

/**
 * ‚ö° NUEVO: Optimizar contenido dentro de acordeones
 * Reducir reflows al expandir/colapsar
 */
.v-expansion-panel-text .v-row {
  transform: translateZ(0);
  backface-visibility: hidden;
}

.v-expansion-panel-text .v-col {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/**
 * ‚ö° NUEVO: Prevenir layout shifts durante expansi√≥n
 * Usar contain para aislar el layout del acorde√≥n
 */
.v-expansion-panels {
  contain: layout style;
}

/* ========================================
   üì± OPTIMIZACIONES ESPEC√çFICAS PARA TABLETS
   ======================================== */

/**
 * Mejorar scroll en tablets
 */
.v-card-text {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/**
 * Optimizar ripple effect en tablets
 * Reducir duraci√≥n para mejor feedback t√°ctil
 */
.v-ripple__container {
  transition: opacity 0.15s ease;
}

/**
 * Reducir motion en dispositivos que lo prefieran
 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }
}

/* ========================================
   üîß OPTIMIZACIONES ADICIONALES
   ======================================== */

/**
 * Forzar hardware acceleration en elementos con transiciones
 */
.v-btn,
.v-chip,
.v-avatar {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/**
 * Optimizar tabs y navigation
 */
.v-tabs {
  transform: translateZ(0);
}

.v-tab {
  will-change: color, background-color;
  transition: all 0.15s ease;
}

/**
 * Optimizar alerts y notificaciones
 */
.v-alert {
  transform: translateZ(0);
  will-change: opacity, transform;
}

/**
 * Optimizar progress indicators
 */
.v-progress-circular,
.v-progress-linear {
  will-change: transform;
  transform: translateZ(0);
}

/* ========================================
   üé® OPTIMIZACI√ìN DE ICONOS
   ======================================== */

/**
 * GPU acceleration para iconos
 * Mejora rotaciones y transiciones
 */
.v-icon {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/**
 * Optimizar iconos en botones
 */
.v-btn .v-icon {
  will-change: transform;
  transition: transform 0.15s ease;
}

/* ========================================
   üìä OPTIMIZACI√ìN DE TABLAS Y LISTAS
   ======================================== */

/**
 * Optimizar scroll en tablas grandes
 */
.v-table {
  transform: translateZ(0);
  will-change: scroll-position;
}

/**
 * Reducir repaints en filas de tabla
 */
.v-table tbody tr {
  will-change: background-color;
  transition: background-color 0.1s ease;
}

/* ========================================
   üéØ OPTIMIZACI√ìN DE HOVER Y TOUCH
   ======================================== */

/**
 * ‚ö° CR√çTICO: Optimizar hover en botones
 * Prevenir trancadas al pasar el mouse
 */
.v-btn:hover {
  will-change: background-color, box-shadow;
  transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

/**
 * ‚ö° CR√çTICO: Optimizar touch events en tablets
 * Mejora respuesta t√°ctil y previene lag
 */
.v-btn,
.v-card,
.v-list-item,
.v-expansion-panel-title {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/**
 * Optimizar hover en cards
 */
.v-card:hover {
  will-change: box-shadow, transform;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

/**
 * Optimizar hover en list items
 */
.v-list-item:hover {
  will-change: background-color;
  transition: background-color 0.15s ease;
}

/* ========================================
   üì¶ OPTIMIZACI√ìN DE CARDS Y VIRTUAL SCROLL
   ======================================== */

/**
 * ‚ö° CR√çTICO: Optimizar cards en modales
 * Mejora performance en listas largas
 */
.persona-card,
.vehiculo-card {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: auto;
  contain: layout style paint;
}

/**
 * Optimizar hover en cards de personas/veh√≠culos
 */
.persona-card:hover,
.vehiculo-card:hover {
  will-change: box-shadow, border-color;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

/**
 * ‚ö° CR√çTICO: Optimizar virtual scroll
 * Reduce reflows durante scroll
 */
.v-virtual-scroll {
  transform: translateZ(0);
  will-change: scroll-position;
  contain: strict;
}

.v-virtual-scroll__item {
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout style paint;
}

/* ========================================
   üé¨ OPTIMIZACI√ìN DE ANIMACIONES DE CONTADORES
   ======================================== */

/**
 * ‚ö° NUEVO: Optimizar elementos con animaciones num√©ricas
 * Mejora fluidez de count-up animations
 */
.stat-value,
.counter-value,
[class*="counter"],
[class*="stat"] {
  will-change: contents;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ========================================
   üñ±Ô∏è OPTIMIZACI√ìN DE ELEMENTOS INTERACTIVOS
   ======================================== */

/**
 * ‚ö° CR√çTICO: Optimizar todos los elementos clickeables
 * Mejora respuesta de hover y click
 */
button,
a,
[role="button"],
[tabindex="0"] {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: auto;
}

/**
 * Optimizar focus states
 */
*:focus-visible {
  will-change: outline, box-shadow;
  transition: outline 0.1s ease, box-shadow 0.1s ease;
}

/**
 * ‚ö° NUEVO: Optimizar avatares y badges
 * Mejora transiciones en elementos peque√±os
 */
.v-avatar,
.v-badge,
.v-chip {
  will-change: transform, opacity;
  transition: transform 0.15s ease, opacity 0.15s ease;
}

/* ========================================
   üì± OPTIMIZACI√ìN ESPEC√çFICA PARA TOUCH
   ======================================== */

/**
 * ‚ö° CR√çTICO: Mejorar respuesta t√°ctil en tablets
 * Reduce delay de 300ms en touch events
 */
@media (hover: none) and (pointer: coarse) {
  /* Dispositivos t√°ctiles (tablets, m√≥viles) */
  * {
    touch-action: manipulation;
  }
  
  /* Acelerar transiciones en touch */
  .v-btn,
  .v-card,
  .v-list-item {
    transition-duration: 0.1s;
  }
  
  /* Feedback visual inmediato en touch */
  .v-btn:active,
  .v-card:active,
  .v-list-item:active {
    transform: scale(0.98) translateZ(0);
    transition: transform 0.05s ease;
  }
}

/* ========================================
   üé® OPTIMIZACI√ìN DE TRANSICIONES GLOBALES
   ======================================== */

/**
 * ‚ö° NUEVO: Optimizar todas las transiciones de Vuetify
 * Reduce duraci√≥n para mayor sensaci√≥n de fluidez
 */
.v-enter-active,
.v-leave-active {
  transition-duration: 0.2s !important;
}

/**
 * Optimizar slide transitions
 */
.v-slide-x-transition-enter-active,
.v-slide-x-transition-leave-active,
.v-slide-y-transition-enter-active,
.v-slide-y-transition-leave-active {
  transition-duration: 0.2s !important;
  will-change: transform, opacity;
}

/* ========================================
   üåü FIN DE OPTIMIZACIONES
   ======================================== */
