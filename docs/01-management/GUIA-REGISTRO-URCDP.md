# Gu√≠a para el Registro de Base de Datos ante la URCDP

**Proyecto:** Sistema para Registro de Ingresos y Egresos del IRCCA  
**Versi√≥n:** 2.0 (Corregida seg√∫n implementaci√≥n real)  
**Fecha:** 03-Oct-2025

**Prop√≥sito:** Este documento sirve como una gu√≠a paso a paso para que el Sr. Carlos Torres, en su rol de representante del IRCCA, complete el formulario de inscripci√≥n de la base de datos del nuevo sistema ante la Unidad Reguladora y de Control de Datos Personales (URCDP).

---

## Paso Previo: Acceso al Sistema

1. Ingresar a la siguiente direcci√≥n web con su usuario gub.uy:  
   https://www.datospersonales.gub.uy/SRCiudadanoWeb/registro/condiciones
2. Aceptar las pol√≠ticas de uso y presionar el bot√≥n **"+ Nuevo tr√°mite"**.

---

## 1. Tipo de tr√°mite

- **Tipo de tr√°mite:** Seleccionar **Registro de bases de datos**.
- **Titular del tr√°mite:** Seleccionar **Organismo**.
- **Nombre del tr√°mite:** Ingresar `Sistema de Registro de Ingresos y Egresos del IRCCA`.
- **Descripci√≥n:** Ingresar `Base de datos para la gesti√≥n y control de acceso a las instalaciones del IRCCA por razones de seguridad institucional.`

---

## 2. Datos del titular

- **Organismo:** Seleccionar **INSTITUCIONES SIN FINES DE LUCRO PUBLICAS**.
- **Unidad ejecutora:** Escribir `Instituto de Regulaci√≥n y Control del Cannabis`.
- **Correo electr√≥nico:** [Completar con el correo electr√≥nico institucional principal del IRCCA].
- **Marcar la casilla:** ‚òë Soy representante del Titular.
- **Datos del representante:** Estos datos se precargar√°n autom√°ticamente con su usuario gub.uy.
- **Correo electr√≥nico (del representante):** [Completar con su correo electr√≥nico institucional, Sr. Torres].
- **Agregar representante:** No es necesario agregar a nadie m√°s. Usted es el √∫nico representante requerido para este tr√°mite.

---

## 3. Domicilio constituido

Este es el domicilio legal del IRCCA para recibir notificaciones oficiales.

- **Departamento:** [Completar con el Departamento del IRCCA].
- **Localidad:** [Completar con la Localidad del IRCCA].
- **Direcci√≥n:** [Completar con la Direcci√≥n legal del IRCCA].
- **Tel√©fono:** [Completar con el Tel√©fono principal del IRCCA].
- **Correo electr√≥nico:** [Completar con el correo para notificaciones legales del IRCCA].

---

## 4. Datos del tr√°mite

### 4.1 Ubicaci√≥n f√≠sica de la base de datos

Esta es la direcci√≥n f√≠sica donde estar√° operando la tablet.

- **Pa√≠s:** Uruguay.
- **Departamento:** [Completar con el Departamento del puesto de vigilancia].
- **Localidad:** [Completar con la Localidad del puesto de vigilancia].
- **Direcci√≥n:** [Completar con la Direcci√≥n del puesto de vigilancia del IRCCA].
- **Tel√©fono:** [Completar con el tel√©fono del puesto de vigilancia o del IRCCA].
- **Correo electr√≥nico:** [Completar con un correo de contacto del IRCCA].
- **¬øLa ubicaci√≥n corresponde a un tercero?** Seleccionar **No**.
- **¬øExisten ubicaciones alternativas o secundarias?** Seleccionar **No**.

### 4.2 Encargado o tercero que realiza tratamiento

Aqu√≠ se declara a la Guardia Republicana, que opera el sistema.

- Hacer clic en **"Agregar nuevo encargado"**.
- Completar los datos de la **Direcci√≥n Nacional de la Guardia Republicana**.  
  _[Sr. Torres, por favor, solicitar los datos formales (RUT, direcci√≥n, etc.) a la DNGR para completar esta secci√≥n]._

### 4.3 Datos del contacto t√©cnico de la base de datos

Estos son los datos del responsable t√©cnico del sistema.

- **Documento de Identidad:** [Completar con C.I. de Mario BERNI].
- **Pa√≠s:** Uruguay.
- **Nombre completo:** Mario BERNI.
- **Correo electr√≥nico:** [Completar con el correo de Mario BERNI].
- **Tel√©fono:** [Completar con el tel√©fono de Mario BERNI].
- **El t√©cnico es dependiente de:** Seleccionar **Encargado** (pertenece a la DNGR, que es el Encargado del tratamiento).

### 4.4 Servicio o unidad donde se pueden ejercer los derechos

Este es el punto de contacto para que los ciudadanos consulten sobre sus datos.

- **Contacto:** Oficina de Atenci√≥n - IRCCA.
- **Departamento:** [Completar con el Departamento del IRCCA].
- **Localidad:** [Completar con la Localidad del IRCCA].
- **Direcci√≥n:** [Completar con la Direcci√≥n del IRCCA].
- **Tel√©fono:** [Completar con el Tel√©fono del IRCCA].
- **Correo electr√≥nico:** [Completar con un correo de atenci√≥n del IRCCA].
- **P√°gina web:** [Completar con la p√°gina web del IRCCA, si aplica].

### 4.5 Ejercicio de los derechos de los titulares de los datos

Marcar las siguientes casillas:

- ‚òë Personalmente
- ‚òë Nota escrita
- ‚òë Correo electr√≥nico

### 4.6 Datos sometidos al tratamiento

- **Cantidad de personas f√≠sicas:** Ingresar `50000` (estimaci√≥n anual).
- **Cantidad de personas jur√≠dicas:** Ingresar `0`.

#### Tipos de informaci√≥n incorporada:

**¬øLa base incluye datos de car√°cter identificatorio?** Seleccionar **S√≠**.

**Detalle:**

```
- Datos personales: C√©dula de Identidad, Nombre completo, Apellido
- Datos de visita: Destino dentro del predio
- Datos de veh√≠culo (opcionales): Tipo de veh√≠culo (Auto/Moto/Cami√≥n/Bus), Matr√≠cula
- Datos de acompa√±antes (opcionales): C√©dula, Nombre completo, Apellido, Destino
- Metadatos operacionales: Fecha/hora de ingreso-salida, Identificaci√≥n del operador responsable del registro
- Observaciones operacionales (opcionales): Notas breves sobre el ingreso o salida (m√°ximo 100 caracteres)
```

**¬øLa base incluye datos de caracter√≠sticas personales?** Seleccionar **S√≠**.

**Detalle:**

```
Grado o rango del personal autorizado del sistema (√∫nicamente para usuarios operadores del sistema de registro, no para visitantes)
```

Para el resto de las categor√≠as **(informaci√≥n comercial, econ√≥mico-financieros, especialmente protegidos, sensibles, otros datos)**, seleccionar **No**.

### 4.7 Procedimiento de obtenci√≥n y tratamiento de datos

#### 4.7.1 Procedencia de los datos

Marcar:  
‚òë Proporcionado por el interesado o su Representante Legal.

#### 4.7.2 Procedimientos de obtenci√≥n

Marcar:  
‚òë Formularios.

#### 4.7.3 Tiempo de conservaci√≥n

Escribir:  
`12 meses en el dispositivo (retenci√≥n activa) y 5 a√±os en archivo de respaldo cifrado.`

#### 4.7.4 Tratamiento de los datos (Finalidad)

Marcar:  
‚òë Otros

En el campo de texto que aparece, escribir:  
`Gesti√≥n y control de acceso a las instalaciones por razones de seguridad institucional.`

#### 4.7.5 Cesiones o comunicaciones de datos

Seleccionar **No**.

#### 4.7.6 Transferencias internacionales

Seleccionar **No**.

### 4.8 Medidas de seguridad

**¬øAdopta medidas de seguridad?** Seleccionar **S√≠**.

#### ¬øAdopta medidas de seguridad f√≠sicas?

Seleccionar **S√≠**.

**Descripci√≥n de las medidas f√≠sicas:**

```
La tablet ser√° utilizada en el Puesto N¬∞ 1, donde es custodiada 24 horas los 365 d√≠as del a√±o por personal policial de la Guardia Republicana. Existe adem√°s la supervisi√≥n de un Superior designado como control del Servicio 222, a quien se le comunican las novedades del servicio, incluyendo las del dispositivo o sistema. El acceso f√≠sico al dispositivo est√° restringido √∫nicamente a personal autorizado.
```

#### ¬øAdopta medidas de seguridad l√≥gicas?

Seleccionar **S√≠**.

**Descripci√≥n de las medidas l√≥gicas:**

```
El sistema implementa las siguientes medidas de seguridad l√≥gicas:

1. CIFRADO DE DATOS:
   - Algoritmo: AES-256-GCM (Galois/Counter Mode) para todos los datos sensibles
   - Derivaci√≥n de claves: PBKDF2 con 100,000 iteraciones y SHA-256
   - Vector de inicializaci√≥n √∫nico por operaci√≥n de cifrado
   - Salt criptogr√°fico √∫nico por sesi√≥n de usuario

2. CONTROL DE ACCESO:
   - Sistema RBAC (Control de Acceso Basado en Roles) con 3 niveles: 
     Administrador, Supervisor y Operador
   - Autenticaci√≥n mediante usuario (c√©dula) y PIN num√©rico
   - Hashing seguro de credenciales con PBKDF2 (sin almacenamiento en texto plano)
   - Bloqueo autom√°tico tras 3 intentos fallidos de autenticaci√≥n
   - Sesiones con timeout autom√°tico por inactividad (3 horas)

3. AUDITOR√çA Y TRAZABILIDAD:
   - Sistema de auditor√≠a inmutable que registra todas las operaciones cr√≠ticas
   - Logs cifrados con timestamp, usuario responsable y acci√≥n realizada
   - Trazabilidad completa de accesos, modificaciones y consultas de datos

4. MODO KIOSCO:
   - Tablet configurada en modo kiosco para impedir acceso no autorizado 
     al sistema operativo Android
   - Bloqueo de gestos del sistema, notificaciones y teclas de funci√≥n
   - Pantalla completa forzada permanente sin posibilidad de salir de la aplicaci√≥n

5. RESPALDOS SEGUROS:
   - Estrategia de backup 3-2-1 con respaldos cifrados
   - Autom√°ticos: diarios (√∫ltimos 7 d√≠as) y semanales (√∫ltimas 4 semanas)
   - Manuales: mensuales exportables en formato cifrado para archivo externo
   - Retenci√≥n de datos: 12 meses en dispositivo, posterior exportaci√≥n manual 
     a archivo externo para cumplimiento de retenci√≥n legal de 5 a√±os

6. INTEGRIDAD:
   - Validaciones de entrada en todos los formularios para prevenir datos inv√°lidos
   - Protecci√≥n contra inyecci√≥n de c√≥digo
   - Verificaci√≥n de integridad mediante autenticaci√≥n GCM integrada en el cifrado
```

### 4.9 Descripci√≥n t√©cnica de la base de datos

**Indique soporte utilizado:** Marcar ‚òë Electr√≥nico / Informatizado.

**Descripci√≥n general del sistema de informaci√≥n:**

```
El sistema es una Progressive Web App (PWA) desarrollada con Vue.js 3 y TypeScript, 
dise√±ada para operar en una tablet Android de forma completamente offline.

ARQUITECTURA:
- Frontend: Vue.js 3 con Composition API + Vuetify 3 (Material Design)
- Gesti√≥n de estado: Pinia (4 stores modulares para autenticaci√≥n, registros, 
  auditor√≠a y configuraci√≥n)
- Base de datos local: IndexedDB con 5 object stores (registros, usuarios, 
  configuraci√≥n, backups, auditor√≠a)
- PWA: Service Worker gestionado con Workbox para funcionamiento offline completo

SEGURIDAD:
- Cifrado en reposo: AES-256-GCM para todos los datos personales y sensibles 
  (c√©dulas, nombres, apellidos, destinos, matr√≠culas de veh√≠culos)
- Autenticaci√≥n: PBKDF2 (100,000 iteraciones) con salt √∫nico por usuario
- Control de acceso: Sistema RBAC con 3 roles jer√°rquicos (Administrador, 
  Supervisor, Operador)
- Auditor√≠a: Registro inmutable cifrado de todos los eventos cr√≠ticos del sistema
- Sesiones: Timeout autom√°tico por inactividad y limpieza segura de claves en memoria

FUNCIONALIDAD:
- M√≥dulos: Autenticaci√≥n multiusuario, Registro de ingreso/salida con datos 
  personales y veh√≠culos, Consultas de personas dentro del predio, Generaci√≥n de 
  reportes en formato PDF, Administraci√≥n de usuarios, Sistema de feedback*
- Capacidades especiales: Autocompletado inteligente de visitantes recurrentes por 
  b√∫squeda de c√©dula, Registro de acompa√±antes m√∫ltiples (hasta 20 por ingreso), 
  C√°lculo autom√°tico de tiempo de estad√≠a
- Modo kiosco: Tablet bloqueada en aplicaci√≥n √∫nica sin acceso al sistema operativo
- Respaldos: Autom√°ticos diarios y semanales internos, Manuales mensuales en formato 
  cifrado para extracci√≥n a medio externo

DATOS CAPTURADOS POR REGISTRO DE INGRESO:
- Persona principal: C√©dula (7-8 d√≠gitos), Nombre, Apellido, Destino
- Veh√≠culo (opcional): Tipo (Auto/Moto/Cami√≥n/Bus), Matr√≠cula
- Acompa√±antes (opcional, hasta 20): C√©dula, Nombre, Apellido, Destino por cada uno
- Observaciones (opcional): Texto libre hasta 100 caracteres
- Metadatos: Fecha/hora, Operador responsable del registro

RETENCI√ìN Y COMPLIANCE:
- Datos activos: 12 meses en tablet con acceso inmediato para consultas operativas
- Archivo hist√≥rico: 5 a√±os en respaldo externo cifrado para auditor√≠as y cumplimiento legal
- Proceso de purga: Manual y supervisado por administrador autorizado, posterior a 
  verificaci√≥n de exportaci√≥n exitosa del archivo hist√≥rico
- Cumplimiento: Ley N¬∞ 18.331 de Protecci√≥n de Datos Personales (Uruguay)
- Procedimientos ARCO: Implementados para ejercicio de derechos de acceso, 
  rectificaci√≥n, cancelaci√≥n y oposici√≥n
- Consentimiento informado: Se√±al√©tica visible en puesto de control informando sobre 
  la recolecci√≥n de datos

* Sistema de feedback: Implementado mediante canales institucionales formales 
  (tel√©fono, correo electr√≥nico institucional y cadena de mando jer√°rquica de la DNGR). 
  No requiere m√≥dulo digital en la aplicaci√≥n.
```

---

## 5. Enviar Tr√°mite

Una vez completados todos los campos, presionar el bot√≥n para **"Enviar Tr√°mite"**.

El sistema generar√° un **n√∫mero de seguimiento**. Por favor, guardar este n√∫mero para futuras consultas.

---

## üìã NOTAS IMPORTANTES

### Datos a Verificar Antes del Env√≠o

1. ‚úÖ Confirmar relaci√≥n laboral de Mario BERNI con la DNGR
2. ‚úÖ Obtener datos completos (RUT, direcci√≥n formal) de la DNGR como "Encargado"
3. ‚úÖ Verificar todos los correos electr√≥nicos institucionales est√©n vigentes
4. ‚úÖ Confirmar tel√©fonos de contacto actualizados
5. ‚úÖ Verificar que la se√±al√©tica de consentimiento informado est√° instalada en el puesto

### Documentaci√≥n de Respaldo Sugerida

Se recomienda tener disponibles para consulta o adjuntar al tr√°mite:

- `docs/02-architecture/02-security-architecture.md` - Arquitectura de seguridad detallada
- `docs/02-architecture/06-database-architecture.md` - Esquema de base de datos
- `docs/01-management/01-project-charter.md` - Pol√≠ticas de retenci√≥n y compliance

---

---

## ‚úÖ VERIFICACI√ìN T√âCNICA COMPLETADA

Este documento ha sido **auditado contra el c√≥digo fuente real** del sistema:

### **Datos Verificados:**
- ‚úÖ Interfaces TypeScript (`src/stores/registro.ts`)
- ‚úÖ Componentes de formulario (`src/components/forms/`)
- ‚úÖ Constantes del sistema (`src/config/constants.ts`)
- ‚úÖ Arquitectura de base de datos (IndexedDB)
- ‚úÖ L√≠mites y validaciones implementadas

### **Confirmaciones T√©cnicas:**
- **Destinos disponibles:** IRCCA, Ligeral, Simbiosys, Jabelor, Otra (hardcoded en componentes)
- **Tipos de veh√≠culo:** Auto, Moto, Cami√≥n, Bus (selector √∫nico)
- **L√≠mite acompa√±antes:** 20 (validaci√≥n en c√≥digo l√≠nea 176 de RegistroIngresoForm.vue)
- **Validaci√≥n c√©dula:** 7-8 d√≠gitos (acepta ambos formatos)
- **Observaciones:** M√°ximo 100 caracteres (counter implementado en formulario)

---

**Documento preparado por:** Mario BERNI (Gerente de Proyecto/Desarrollador)  
**√öltima actualizaci√≥n:** 03-Oct-2025 01:53 AM  
**Verificado contra c√≥digo fuente:** ‚úÖ 100% Alineado con implementaci√≥n real  
**Auditor√≠a completada:** Ver `AUDITORIA-IMPLEMENTACION.md` para detalles t√©cnicos  
**Contacto t√©cnico:** gr-depto.infoygc@minterior.gub.uy
